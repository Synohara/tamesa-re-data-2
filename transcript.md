# 発表原稿：データ基盤運用にSkillsを求めるのは間違っているだろうか

---

## スライド1: タイトル

「データ基盤運用にSkillsを求めるのは間違っているだろうか」というタイトルで発表します。

---

## スライド2: 自己紹介

makotyo です。SimpleForm株式会社でData Engineerをやっています。

---

## スライド3: コーディングエージェントを運用タスクにも使いたい

最近、Claude CodeやCodex、Gemini CLIなど、コーディングエージェントが盛り上がっていますよね。

これらのツール、コードを書くだけじゃなくて、定常的な運用作業にも使えるんじゃないかと思って、いろいろ試してみました。

今日はその中でも「Skills」という仕組みを使った事例を紹介します。

---

## スライド4: Agent Skillsおさらい

まずAgent Skillsについて簡単におさらいします。

Skillsは、エージェントに手順やナレッジを渡すためのオープンな標準規格です。

`SKILL.md`というファイルにMarkdownで手順やルール、ナレッジを書いておくと、エージェントがそれを参照して作業してくれます。

チーム固有の専門知識を再利用可能な形で残せるのと、定常業務を一貫性のあるワークフローにできるのがポイントです。

---

## スライド5: Skillコンテンツの2つの種類

Skillのコンテンツには大きく2種類あります。

1つ目が「Reference content」。これはClaudeの知識を拡張するもので、規約やパターン、スタイルガイド、ドメイン知識などを書いておきます。会話の中でインラインで参照されます。

2つ目が「Task content」。今日の主役はこっちです。Claudeに具体的なステップを実行させるためのもので、デプロイやコミット、コード生成などの手順を書きます。スラッシュコマンドで直接呼び出すこともできますし、Claudeが自動で判断して実行することもできます。

ちなみに、従来はCustom Slash Commandとして`.claude/commands/`に書くのが一般的でしたが、最近SkillsとCustom Slash Commandが統合されました。既存のcommandsディレクトリのファイルもそのまま動きますし、Skillsにすると補助ファイルを置けたり、Claudeが自動で呼び出すかどうかを制御できたりと、機能が追加されています。

定常業務の自動化には、このTask contentが適しています。

---

## スライド6: データエンジニアの定常業務

データエンジニアの定常業務って、こういうのがありますよね。

テーブル追加、カラム変更、ユーザー追加、データ出力、権限の棚卸し、バックフィル...

どれも不定期だけど繰り返し発生して、毎回そこそこ手間がかかるやつです。

---

## スライド7: テーブル追加タスク、Skill化できそう？

この中で、テーブル追加タスクをSkill化してみました。

うちのテーブル追加は、10ステップあって、手順書は800行以上あります。

dbt、Snowflake、GitHub、Terraformと、関わるツールも多いですし、ステップ間に依存関係があって順番を守る必要があります。

月に数回発生するタスクなので、自動化できたら嬉しいなと。

---

## スライド8: Skillに何を書いたか

じゃあSkillに何を書いたかというと、手順そのものに加えて、つまづきポイントやステップ間の依存関係も記述しました。

手順書にあるのは各ステップの具体的な操作手順だけなんですが、手順書にないものとして、ステップ間の依存関係、本番操作時の安全確認、よくあるエラーの対処法があります。

Skillでは、手順をそのままステップとして記述して、依存関係を実行順序として定義しました。トラブルシューティングもSkillに含めています。

あと重要なのが、本番操作はpermission設定でガードレールをかけているところです。本番環境に影響するコマンドは、実行前に確認を求めるようにしています。

---

## スライド9: デモ動画

実際に動かすとこんな感じです。

「○○テーブルを追加してください」と言うだけで、Skillが呼ばれて作業が始まります。

---

## スライド10: 実行するとこうなる

実行の流れを説明すると、

まずSkillを呼ぶと、全体の実行計画が提示されます。

そしてステップ1から順に自動実行が進んでいきます。

本番操作の前では、permission設定により確認を求めてきます。ここで人間がチェックできます。

承認すると続行して、完了後にPRが作成されます。

---

## スライド11: 嬉しさ

嬉しいポイントとしては、

Skillを呼ぶだけで、テーブル追加が最初から最後まで完了すること。

あと、実行中は別のタスクを進められるので、待ち時間を有効活用できます。

---

## スライド12: 定常業務のSkill化、おすすめです

まとめると、定常業務のSkill化、おすすめです。

自社固有のルールやエラー対処をそのまま反映できますし、言語化されてこなかったノウハウを書き残しておく良い機会にもなります。

ただ、作業内容は理解した上で実行しましょう。エージェントに任せきりにせず、何をやっているかは把握しておくのが大事です。

---

## スライド13: Thank you!

ご清聴ありがとうございました。
